<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Science Facts Gallery</title>
<link rel="stylesheet" href="styles.css">
<link href='https://fonts.googleapis.com/css2?family=Fredoka:wght@300..700&display=swap' rel='stylesheet'>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>

<h1 class="title">Science Facts</h1>

<div class="gallery-grid">
  <div class="gallery-item" onclick="openFact('fact1', this)">
    <img src="images/almond-peach.png" alt="Fact 1">
  </div>
  <div class="gallery-item" onclick="openFact('fact2', this)">
    <img src="images/apples-float.png" alt="Fact 2">
  </div>
  <div class="gallery-item" onclick="openFact('fact3', this)">
    <img src="images/boil-freeze.png" alt="Fact 3">
  </div>
  <div class="gallery-item" onclick="openFact('fact4', this)">
    <img src="images/cloud-raindrops.png" alt="Fact 4">
  </div>
  <div class="gallery-item" onclick="openFact('fact5', this)">
    <img src="images/plant-fever.png" alt="Fact 5">
  </div>
</div>

<!-- Wikipedia-style Fact Popup -->
<div id="fact-popup" class="fact-popup" onclick="outsideClick(event)">
  <div class="fact-content">
    <span class="close" onclick="closeFact()">&times;</span>
    <div class="popup-img-wrapper">
      <img id="popup-img" src="" alt="Fact Image">
    </div>
    <h2 id="fact-title">Fact</h2>
    <p id="fact-text"></p>
    <button onclick="checkFact()">Fact Checker</button>
    <p id="checker-result"></p>
  </div>
</div>

<audio id="pop-sound" src="audio/cap-open.mp3"></audio>

<script>
// Fact data
const facts = {
  fact1: "Almonds and peaches are both part of the prunus family. Since they're so closely related, almond and peach allergies can actually overlap!",
  fact2: "Due to their air content, fresh apples are less dense than water, making them able to float.",
  fact3: "When water reaches a triple point, it's solid, liquid, and gas forms can exist at the same time. This happens at 32 degrees F and a pressure of around 611 pascals.",
  fact4: "Clouds are made up of tiny waterdroplets, with many clouds having the potential to hold 6 trillion or even more raindrops!",
  fact5: "Plants are very sensitive to temperature! They can get fevers and hypothermia :( Take care of your plants!"
};

// Fact titles
const factTitles = {
  fact1: "Almonds and Peaches",
  fact2: "Apples Floating",
  fact3: "Boiling and Freezing",
  fact4: "Clouds and Raindrops",
  fact5: "Plant Sickness"
};

// Fact truth data
const factTruth = {
  fact1: true,
  fact2: true,
  fact3: true,
  fact4: true,
  fact5: true
};

function openFact(factId, element) {
  const sound = document.getElementById("pop-sound");
  sound.currentTime = 0;
  sound.play();

  // Set popup image source
  const imgSrc = element.querySelector('img').src;
  document.getElementById('popup-img').src = imgSrc;

  // Show popup
  document.getElementById("fact-title").innerText = factTitles[factId];
  document.getElementById("fact-text").innerText = facts[factId];
  document.getElementById("checker-result").innerText = "";
  document.getElementById("fact-popup").style.display = "flex";
  document.getElementById("fact-popup").dataset.current = factId;
}

function closeFact() {
  document.getElementById("fact-popup").style.display = "none";
}

function checkFact() {
  const factId = document.getElementById("fact-popup").dataset.current;
  const result = factTruth[factId] ? "✅ This fact is true!" : "❌ This fact is false :(";
  document.getElementById("checker-result").innerText = result;
}

function outsideClick(event) {
  const content = document.querySelector('.fact-content');
  if (!content.contains(event.target)) {
    closeFact();
  }
}
</script>

<nav class="bottom-nav">
  <a href="index.html">Home</a>
  <a href="animal-facts.html">Animals</a>
  <a href="weird-us-facts.html">Weird US</a>
  <a href="historical-facts.html">History</a>
  <a href="science-facts.html">Science</a>
  <a href="random-fact.html">Random</a>
</nav>

</body>
</html>
